(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["info-ret"],{2069:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i("f871"),r=i("406d"),s=i("3aea");t.getParagraphTokens=e=>t.getTokens(e,n.paragraphDelimiter),t.getSentenceTokens=e=>t.getTokens(e,n.sentenceDelimiters),t.getSubSentenceTokens=e=>t.getTokens(e,n.subSentenceDelimiters).map(e=>s.removePunctuations(e)),t.getWordTokens=e=>t.getTokens(e,n.wordDelimiter).map(e=>s.removePunctuations(e)),t.getTokens=(e,t)=>(t===n.paragraphDelimiter?r.cleanRootText(e):r.cleanParagraphText(e)).split(t).map(e=>e.trim()).filter(e=>!!e)},"3aea":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removePunctuations=e=>e.replace(/,|;|\:|\.|!|\?|\(|\)/g,"")},"406d":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanRootText=e=>e.replace(/\n\n+/g,"\n\n").trim(),t.cleanParagraphText=e=>e.replace(/\s+/g," ").trim()},"466d":function(e,t,i){"use strict";var n=i("d784"),r=i("825a"),s=i("50c4"),o=i("577e"),a=i("1d80"),c=i("8aa5"),l=i("14c3");n("match",(function(e,t,i){return[function(t){var i=a(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,i):new RegExp(t)[e](o(i))},function(e){var n=r(this),a=o(e),d=i(t,n,a);if(d.done)return d.value;if(!n.global)return l(n,a);var u=n.unicode;n.lastIndex=0;var f,h=[],p=0;while(null!==(f=l(n,a))){var m=o(f[0]);h[p]=m,""===m&&(n.lastIndex=c(a,s(n.lastIndex),u)),p++}return 0===p?null:h}]}))},"498a":function(e,t,i){"use strict";var n=i("23e7"),r=i("58a8").trim,s=i("c8d2");n({target:"String",proto:!0,forced:s("trim")},{trim:function(){return r(this)}})},"605b":function(e,t,i){},"6b93":function(e,t,i){var n=i("23e7"),r=Math.log,s=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(e){return r(e)*s}})},c8d2:function(e,t,i){var n=i("d039"),r=i("5899"),s="​᠎";e.exports=function(e){return n((function(){return!!r[e]()||s[e]()!=s||r[e].name!==e}))}},f3db:function(e,t,i){"use strict";i("605b")},f871:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sentenceDelimiters=new RegExp(/\.|\!|\?/),t.subSentenceDelimiters=new RegExp(/,|;|:/),t.wordDelimiter=new RegExp(/\ |\ /),t.paragraphDelimiter=new RegExp(/\n\n/)},fffb:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"infoRetComp "},[i("div",{staticClass:"row"},[i("div",{staticClass:"col"}),i("div",{staticClass:"col-3"},[i("b-table",{attrs:{striped:"",hover:"",items:e.documents,fields:e.fields,dark:e.darkTheme,"foot-clone":""},scopedSlots:e._u([{key:"cell(modify)",fn:function(t){return[t.index!==e.editLineIndex?i("b-icon",{class:["cyclesIconLeft","iconEnabled",e.darkTheme?"iconDark":"iconLight"],attrs:{icon:"pencil-square","aria-hidden":"true"},on:{click:function(i){return e.startEditLine(t.index)}}}):i("b-icon",{class:["alignMiddle","cyclesIconLeft","iconEnabled",e.darkTheme?"iconDark":"iconLight"],attrs:{icon:"check-circle","aria-hidden":"true"},on:{click:function(i){return e.finishEditLine(t.index)}}}),t.index!==e.editLineIndex?i("b-icon",{class:["cyclesIconRight","iconEnabled",e.darkTheme?"iconDark":"iconLight"],attrs:{icon:"trash","aria-hidden":"true"},on:{click:function(i){return e.removeDoc(t.index)}}}):i("b-icon",{class:["alignMiddle","cyclesIconRight","iconEnabled",e.darkTheme?"iconDark":"iconLight"],attrs:{icon:"x-circle","aria-hidden":"true"},on:{click:e.cancelEdit}})]}},{key:"cell(document)",fn:function(t){return[t.index!==e.editLineIndex?i("div",[e._v(e._s(t.value))]):i("div",[i("b-form-input",{class:{shake:e.animatedEditField,darkInputForm:e.darkTheme},attrs:{placeholder:"Type or cancel"},model:{value:e.tempDoc,callback:function(t){e.tempDoc=t},expression:"tempDoc"}})],1)]}},{key:"foot(id)",fn:function(){return[i("span")]},proxy:!0},{key:"foot(document)",fn:function(){return[i("b-form-input",{class:{shake:e.animatedNewField,darkInputForm:e.darkTheme},attrs:{id:"newDocForm",placeholder:"New document"},model:{value:e.newDoc,callback:function(t){e.newDoc=t},expression:"newDoc"}}),i("b-tooltip",{attrs:{target:"newDocForm",placement:"bottom",show:e.showTooltip,triggers:"manual"},on:{"update:show":function(t){e.showTooltip=t}}},[e._v("\n            This document is already present, please choose something else!\n          ")])]},proxy:!0},{key:"foot(modify)",fn:function(){return[i("b-icon",{class:["cyclesIconRight","iconEnabled",e.darkTheme?"iconDark":"iconLight","alignMiddle"],attrs:{icon:"plus-circle","aria-hidden":"true"},on:{click:function(t){return e.addDoc()}}})]},proxy:!0}])})],1),i("div",{staticClass:"col-4"},[i("b-form-input",{class:{darkInputForm:e.darkTheme},attrs:{id:"queryForm",placeholder:"Input query","bg-variant":"dark"},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1),i("div",{staticClass:"col-3"},[i("b-card",{attrs:{title:"Control Panel","bg-variant":e.darkTheme?"dark":"light","text-variant":e.darkTheme?"white":""}},[i("b-card-text",[i("div",{staticClass:"row"},[i("div",{staticClass:"col-6 panelSwitches"},[i("SwitchGroup",{attrs:{settings:e.settings},model:{value:e.selectedSettings,callback:function(t){e.selectedSettings=t},expression:"selectedSettings"}})],1),i("div",{staticClass:"col-6 panelSwitches"},[i("SwitchGroup",{attrs:{settings:e.querySettings},model:{value:e.selectedQuerySett,callback:function(t){e.selectedQuerySett=t},expression:"selectedQuerySett"}})],1)]),i("div",[e._v("\n          Ignored words (comma separated)\n        ")]),i("div",[i("b-form-input",{class:{darkInputForm:e.darkTheme},attrs:{placeholder:"Ignored words comma separated"},model:{value:e.ignoredTermsInput,callback:function(t){e.ignoredTermsInput=t},expression:"ignoredTermsInput"}})],1)])],1)],1),i("div",{staticClass:"col"})]),e.selectedSettings.length?i("div",{staticClass:"row"},[i("div",{staticClass:"col"}),e.selectedSettings.includes("dict")?i("div",{staticClass:"col-2"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableDict,dark:e.darkTheme}})],1):e._e(),e.selectedSettings.includes("idf")?i("div",{staticClass:"col-1"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableIdf,dark:e.darkTheme},scopedSlots:e._u([{key:"head()",fn:function(t){return[i("span",[e._v(e._s(t.label.toLowerCase()))])]}}],null,!1,2431634725)})],1):e._e(),e.selectedSettings.includes("tf")?i("div",{staticClass:"col"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableTf,dark:e.darkTheme},scopedSlots:e._u([{key:"head()",fn:function(t){return[i("span",[e._v(e._s(t.label.toLowerCase().substring(0,1))),i("sub",[e._v(e._s(t.label.substring(1,2)))])])]}}],null,!1,100153061)})],1):e._e(),e.selectedSettings.includes("tfidf")?i("div",{staticClass:"col"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableTfIdf,dark:e.darkTheme},scopedSlots:e._u([{key:"head()",fn:function(t){return[i("span",[e._v(e._s(t.label.toLowerCase().substring(0,5))),i("sub",[e._v(e._s(t.label.substring(5,6)))])])]}}],null,!1,4212840161)})],1):e._e(),i("div",{staticClass:"col"})]):e._e(),i("br"),i("br"),e.selectedQuerySett.length?i("div",{staticClass:"row"},[i("div",{staticClass:"col"}),e.selectedQuerySett.includes("querytf")?i("div",{staticClass:"col"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableQueryTf,dark:e.darkTheme},scopedSlots:e._u([{key:"head()",fn:function(){return[i("span",[e._v("Query tf")])]},proxy:!0}],null,!1,1226307703)})],1):e._e(),e.selectedQuerySett.includes("querytfidf")?i("div",{staticClass:"col"},[i("b-table",{attrs:{striped:"",hover:"",items:e.printableQueryTfIdf,dark:e.darkTheme},scopedSlots:e._u([{key:"head()",fn:function(){return[i("span",[e._v("Query tfidf")])]},proxy:!0}],null,!1,2698636124)})],1):e._e(),e.selectedQuerySett.includes("ranking")?i("div",{staticClass:"col"},[i("b-table",{attrs:{striped:"",hover:"",items:e.ranking,dark:e.darkTheme}})],1):e._e(),i("div",{staticClass:"col"})]):e._e()])},r=[],s=i("2909"),o=i("b85c"),a=(i("d3b7"),i("159b"),i("fb6a"),i("ac1f"),i("1276"),i("498a"),i("466d"),i("caad"),i("a434"),i("99af"),i("4ec9"),i("3ca3"),i("ddb0"),i("b680"),i("6b93"),i("4e82"),i("2532"),i("dcd6")),c=i("2069"),l={name:"InfoRet",components:{SwitchGroup:a["a"]},data:function(){return{docs:["I love the sun!","I hate sun!","I love rain."],fields:["id","document","modify"],ignored_terms:["the","a"],animatedNewField:!1,animatedEditField:!1,newDoc:"",showTooltip:!1,query:"",tfPrecision:4,tfIdfPrecision:4,idfPrecision:4,simPrecision:4,selectedSettings:[],selectedQuerySett:[],allDocSett:["dict","idf","tf","tfidf"],allQuerySett:["querytf","querytfidf","ranking"],allDocSelected:!1,allQuerySelected:!1,settings:[{text:"Dictionary",value:"dict"},{text:"idf",value:"idf"},{text:"tf",value:"tf"},{text:"tfidf",value:"tfidf"}],querySettings:[{text:"Query tf",value:"querytf"},{text:"Query tfidf",value:"querytfidf"},{text:"Ranking",value:"ranking"},{text:"Toggle all",value:"toggleAll"}],editLineIndex:-1,tempDoc:""}},computed:{darkTheme:function(){return this.$store.state.darkTheme},ignoredTermsInput:{get:function(){var e="";return this.ignored_terms.forEach((function(t){return e+=t+","})),e.slice(0,-1)},set:function(e){var t,i=[],n=e.split(",");n.forEach((function(e){e=e.trim(),e&&e.match(/^[A-Za-z]+$/)&&(i.includes(e.toLowerCase())||i.push(e.toLowerCase()))})),(t=this.ignored_terms).splice.apply(t,[0,this.ignored_terms.length].concat(i))}},documents:function(){var e=[];return this.docs.forEach((function(t,i){return e.push({id:i,document:t})})),e},num_documents:function(){return this.documents.length},docInfo:function(){var e,t=new Map,i=Object(o["a"])(this.documents);try{for(i.s();!(e=i.n()).done;){var n=e.value,r=this.getUniqueTokens(c["getWordTokens"](n.document)),s=0;r.forEach((function(e){return s+=e})),t.set(n,{uniqueTokens:r,docLen:s})}}catch(a){i.e(a)}finally{i.f()}return t},dictionary:function(){var e=new Map;return this.docInfo.forEach((function(t){return t["uniqueTokens"].forEach((function(t,i){return e.set(i,e.has(i)?e.get(i)+1:1)}))})),e},printableDict:function(){var e=this.dictionary,t=[];return e.forEach((function(e,i){return t.push({word:i,frequency:e})})),t},norm_tf:function(){var e=this,t=new Map;return this.docInfo.forEach((function(i,n){var r=new Map;e.dictionary.forEach((function(e,t){r.set(t,i["uniqueTokens"].has(t)?i["uniqueTokens"].get(t)/i["docLen"]:0)})),t.set(n,r)})),t},printableTf:function(){var e=this,t=[];return this.dictionary.forEach((function(i,n){var r={};e.norm_tf.forEach((function(t,i){var s="t"+i["id"];r[s]=+parseFloat(t.get(n)).toFixed(e.tfPrecision)})),t.push(r)})),t},idf:function(){var e=this,t=new Map;return this.dictionary.forEach((function(i,n){return t.set(n,Math.log10(e.num_documents/i))})),t},printableIdf:function(){var e=this,t=[];return this.idf.forEach((function(i){return t.push({idf:+parseFloat(i).toFixed(e.idfPrecision)})})),t},query_tf:function(){var e=this.getUniqueTokens(c["getWordTokens"](this.query)),t=0;e.forEach((function(e){return t+=e}));var i=new Map;return this.dictionary.forEach((function(n,r){i.set(r,e.has(r)?e.get(r)/t:0)})),i},printableQueryTf:function(){var e=this,t=[];return this.dictionary.forEach((function(i,n){t.push({query_tf:+parseFloat(e.query_tf.get(n)).toFixed(e.tfPrecision)})})),t},docsTfIdf:function(){var e=this,t=new Map;return this.norm_tf.forEach((function(i,n){var r=new Map;i.forEach((function(t,i){r.set(i,e.idf.get(i)*t)})),t.set(n,r)})),t},printableTfIdf:function(){var e=this,t=[];return this.dictionary.forEach((function(i,n){var r={};e.docsTfIdf.forEach((function(t,i){var s="tfidf"+i["id"];r[s]=+parseFloat(t.get(n)).toFixed(e.tfIdfPrecision)})),t.push(r)})),t},queryTfIdf:function(){var e=this,t=new Map;return this.idf.forEach((function(i,n){t.set(n,e.query_tf.get(n)*i)})),t},printableQueryTfIdf:function(){var e=this,t=[];return this.dictionary.forEach((function(i,n){return t.push({query_TfIdf:+parseFloat(e.queryTfIdf.get(n)).toFixed(e.tfIdfPrecision)})})),t},sim:function(){var e=this,t=new Map;return this.docsTfIdf.forEach((function(i,n){var r=[],s=[];e.dictionary.forEach((function(t,n){r.push(i.get(n)),s.push(e.queryTfIdf.get(n))}));var o=e.dotMult(r,s),a=e.dotMult(r,r),c=e.dotMult(s,s);t.set(n,0===a||0===c?0:o/Math.sqrt(a*c))})),t},ranking:function(){var e=this,t=[];return this.sim.forEach((function(i,n){return t.push({document:n.document,sim:+parseFloat(i).toFixed(e.simPrecision)})})),t.sort((function(e,t){return e.sim>t.sim?-1:1})),t}},methods:{getUniqueTokens:function(e){var t=this,i=new Map;return e.forEach((function(e){var n,r=Object(o["a"])(t.ignored_terms);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(!s.toLowerCase().localeCompare(e.toLowerCase()))return}}catch(a){r.e(a)}finally{r.f()}i.set(e.toLowerCase(),i.has(e.toLowerCase())?i.get(e.toLowerCase())+1:1)})),i},removeDoc:function(e){this.docs.splice(e,1)},addDoc:function(){var e=this,t=this.newDoc.trim();if(!t){var i=this;return i.animatedNewField=!0,void setTimeout((function(){i.animatedNewField=!1}),2e3)}var n=!1;if(this.docs.forEach((function(e){return n=!e.toLowerCase().localeCompare(t.toLowerCase())||n})),n){this.showTooltip=!0;var r=this;return r.animatedNewField=!0,void setTimeout((function(){r.animatedNewField=!1,e.showTooltip=!1}),2e3)}this.docs.push(t),this.newDoc=""},dotMult:function(e,t){var i=0;return e.forEach((function(e,n){return i+=e*t[n]})),i},startEditLine:function(e){this.editLineIndex=e,this.tempDoc=this.docs[e]},finishEditLine:function(e){var t=this.tempDoc.trim();if(!t){var i=this;return i.animatedEditField=!0,void setTimeout((function(){i.animatedEditField=!1}),2e3)}var n=!1;if(this.docs.forEach((function(e){return n=!e.toLowerCase().localeCompare(t.toLowerCase())||n})),n&&this.docs.indexOf(t)!=e){var r=this;return r.animatedEditField=!0,void setTimeout((function(){r.animatedEditField=!1}),2e3)}this.editLineIndex=-1,this.docs.splice(e,1,t),this.tempDoc=""},cancelEdit:function(){this.editLineIndex=-1,this.tempDoc=""}},watch:{selectedSettings:function(e){var t=Object(s["a"])(e);if(t.sort(),this.allDocSett.sort(),this.allDocSett.length!==t.length)this.allDocSelected=!1;else{var i=!0;this.allDocSett.forEach((function(e,n){i=!t[n].localeCompare(e)&&i})),this.allDocSelected=i}if(this.allDocSelected&&this.allQuerySelected&&!this.selectedQuerySett.includes("toggleAll"))this.selectedQuerySett.push("toggleAll");else if(this.selectedQuerySett.includes("toggleAll")&&(!this.allDocSelected||!this.allQuerySelected)){var n=this.selectedQuerySett.indexOf("toggleAll");this.selectedQuerySett.splice(n,1)}},selectedQuerySett:function(e,t){var i;if(e.includes("toggleAll")&&!t.includes("toggleAll"))return this.selectedSettings=this.allDocSett.slice(),(i=this.selectedQuerySett).push.apply(i,Object(s["a"])(this.allQuerySett)),this.allDocSelected=!0,void(this.allQuerySelected=!0);if(t.includes("toggleAll")&&!e.includes("toggleAll"))return this.selectedSettings.splice(0,this.selectedSettings.length),this.selectedQuerySett.splice(0,this.selectedQuerySett.length),this.allDocSelected=!1,void(this.allQuerySelected=!1);var n=Object(s["a"])(e);n.sort(),this.allQuerySett.sort();var r=!0;if(this.allQuerySett.forEach((function(e){r=!!n.includes(e)&&r})),this.allQuerySelected=r,this.allDocSelected&&this.allQuerySelected&&!this.selectedQuerySett.includes("toggleAll"))this.selectedQuerySett.push("toggleAll");else if(this.selectedQuerySett.includes("toggleAll")&&(!this.allDocSelected||!this.allQuerySelected)){var o=this.selectedQuerySett.indexOf("toggleAll");this.selectedQuerySett.splice(o,1)}}}},d=l,u=(i("f3db"),i("2877")),f=Object(u["a"])(d,n,r,!1,null,"3da6a0e9",null);t["default"]=f.exports}}]);
//# sourceMappingURL=info-ret.ca25ae84.js.map